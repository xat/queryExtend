!function(n){function e(n){return"[object Array]"===Object.prototype.toString.call(n)}function r(){for(var n={},e=0;e<arguments.length;e++){var r=arguments[e];for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])}return n}var t=function(n){var e={};return n?(n.split("&").forEach(function(n){var r=n.split("="),t=u(r[0]),o=decodeURIComponent(t.val),a=r[1]&&decodeURIComponent(r[1]);"array"===t.type?(e[o]||(e[o]=[]),e[o].push(a)):"string"===t.type&&(e[o]=a)}),e):e},o=function(n){var r,t=[];for(var o in n)n.hasOwnProperty(o)&&("undefined"!=typeof n[o]?(r=encodeURIComponent(o),e(n[o])?n[o].forEach(function(n){t.push(r+"[]="+encodeURIComponent(n))}):t.push(r+"="+encodeURIComponent(n[o]))):t.push(encodeURIComponent(o)));return t.length?"?"+t.join("&"):""},u=function(n){var e=n.indexOf("[");return-1===e?{type:"string",val:n}:{type:"array",val:n.substr(0,e)}},a=function(n){var e=n.lastIndexOf("?"),r=-1!==e,t=void 0;return r&&e>0?t=n.substring(0,e):!r&&n&&n.length>0&&(t=n),{base:t,query:r?n.substring(e+1):void 0}},i=function(){var n=Array.prototype.slice.call(arguments,0),e="";if(!n.length)return e;var u=n.map(function(n){if("string"==typeof n){var r=a(n);return r.base&&(e=r.base),t(r.query)}return n});return e+o(r.apply(r,u))};"undefined"!=typeof module&&module.exports?module.exports=i:n.queryExtend=i}(this);